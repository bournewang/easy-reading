(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[719],{23667:function(){},10753:function(){},94138:function(){},58729:function(){},64981:function(){},75584:function(){},30892:function(){},26301:function(e,t,n){Promise.resolve().then(n.bind(n,12082))},12082:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return l}});var s=n(76887);n(85316);var a=n(86147),i=()=>(0,s.jsxs)("div",{className:"container mx-auto p-4",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"Dictionary Test"}),(0,s.jsx)(a.Z,{})]});function l(){return(0,s.jsxs)("div",{className:"container mx-auto py-8",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-indigo-600 mb-8 text-center",children:"Dictionary Test"}),(0,s.jsx)(i,{})]})}},86147:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var s=n(76887),a=n(85316),i=n(9071);let l=()=>{let[e,t]=(0,a.useState)(!1),[n,s]=(0,a.useState)(null);return{lookupWord:(0,a.useCallback)(async e=>{try{return t(!0),s(null),(await i.h.get("https://api.dictionaryapi.dev/api/v2/entries/en/".concat(e))).data[0]}catch(n){let t="Failed to lookup word: ".concat(e);throw s(t),Error(t)}finally{t(!1)}},[]),loading:e,error:n}};var r=n(2457);n(81095);var o=n(89648),c=e=>{let{selectedWord:t}=e,[n,i]=(0,a.useState)(""),[c,d]=(0,a.useState)(null),{lookupWord:u,loading:m,error:x}=l(),{speak:p}=(0,r.I)(),{translate:h,translateBatch:f}=(0,o.$)();(0,a.useEffect)(()=>{t&&(i(t),u(t).then(async e=>{d(e);let t=e.phonetics.find(e=>e.text&&e.audio);(null==t?void 0:t.audio)?new Audio(t.audio).play():p(e.word),f(e.meanings.flatMap(e=>e.definitions.map(e=>e.definition))).then(t=>{let n=0,s={...e};s.meanings.forEach(e=>{e.definitions.forEach(e=>{e.translation=t[n++]})}),d(s)})}).catch(e=>console.error("Failed to look up word:",e)))},[t,u]);let g=async e=>{if(e.preventDefault(),n.trim())try{let e=await u(n);d(e)}catch(e){console.error("Failed to look up word:",e)}};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"sticky top-0 text-xs text-slate-500 text-center border-b border-t border-slate-200 py-1 bg-white z-10",children:"Dictionary"}),(0,s.jsxs)("div",{className:"p-2 md:p-4 bg-slate-100 md:bg-slate-50 shadow-lg",children:[(0,s.jsx)("div",{className:"hidden md:block",children:(0,s.jsx)("form",{onSubmit:g,className:"mb-4",children:(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)("input",{type:"text",value:n,onChange:e=>i(e.target.value),placeholder:"Enter a word to look up",className:"flex-1 p-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent bg-white"}),(0,s.jsx)("button",{type:"submit",className:"px-3 py-2 text-white rounded-lg disabled:bg-slate-300 transition-colors duration-200",disabled:m||!n.trim(),title:"Look up word",children:(0,s.jsx)("span",{className:m?"inline-block animate-spin-slow":"",children:m?"â³":"\uD83D\uDD0D"})})]})})}),x&&(0,s.jsx)("div",{className:"p-2 mb-3 bg-red-50 text-red-600 rounded-lg border border-red-200",children:x}),c&&(0,s.jsxs)("div",{className:"",children:[(0,s.jsxs)("div",{className:"flex flex-wrap items-center justify-center gap-x-3 gap-y-1 mb-2 md:mb-4",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-slate-800 whitespace-nowrap",children:c.word}),c.phonetics.filter(e=>e.text&&e.audio).map((e,t)=>(0,s.jsxs)("div",{className:"flex items-center space-x-2 whitespace-nowrap",children:[(0,s.jsx)("span",{className:"text-slate-600",children:e.text}),(0,s.jsx)("button",{onClick:()=>new Audio(e.audio).play(),className:"p-1 text-indigo-600 hover:text-indigo-700",children:"\uD83D\uDD0A"})]},t))]}),c.meanings.map((e,t)=>(0,s.jsxs)("div",{className:"mb-2 md:mb-4 p-1 md:p-3 bg-white rounded-lg shadow-sm",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-indigo-600 mb-1 md:mb-2",children:e.partOfSpeech}),(0,s.jsx)("ul",{className:"list-none list-inside space-y-1 md:space-y-2",children:e.definitions.map((e,t)=>(0,s.jsx)("li",{className:"text-slate-700",children:(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsxs)("p",{className:"inline",children:[t+1,". ",e.definition]}),e.translation&&(0,s.jsx)("p",{className:"mt-1 text-slate-600 bg-yellow-50 p-2 rounded-lg",children:e.translation}),e.example&&(0,s.jsxs)("p",{className:"mt-1 text-slate-600 italic bg-slate-50 p-2 rounded-lg flex items-center justify-between",children:[(0,s.jsx)("span",{children:e.example}),(0,s.jsx)("button",{onClick:()=>e.example&&p(e.example),className:"p-1 text-indigo-600 hover:text-indigo-700 ml-2",title:"Listen to example",children:"\uD83D\uDD0A"})]}),e.synonyms.length>0&&(0,s.jsxs)("p",{className:"mt-1 text-slate-600",children:[(0,s.jsx)("span",{className:"font-medium",children:"Synonyms: "}),(0,s.jsx)("span",{className:"text-indigo-600",children:e.synonyms.join(", ")})]})]})},t))}),e.synonyms.length>0&&(0,s.jsxs)("div",{className:"mt-2 p-2 bg-slate-50 rounded-lg",children:[(0,s.jsx)("span",{className:"font-medium text-slate-700",children:"Synonyms: "}),(0,s.jsx)("span",{className:"text-indigo-600",children:e.synonyms.join(", ")})]})]},t))]})]})]})}},2457:function(e,t,n){"use strict";n.d(t,{I:function(){return i}});var s=n(85316),a=n(70233);let i=()=>{let[e,t]=(0,s.useState)(!1),n={region:"eastasia",key:"f6e22df4e31f4700a7d99201d9a01796"};return{speak:async e=>{try{t(!0);let s=a.SpeechConfig.fromSubscription(n.key,n.region),i=new a.SpeechSynthesizer(s);await new Promise((t,n)=>{i.speakTextAsync(e,e=>{i.close(),t(e)},e=>{i.close(),n(e)})})}catch(e){console.error("TTS error:",e)}finally{t(!1)}},speaking:e}}},89648:function(e,t,n){"use strict";n.d(t,{$:function(){return i}});var s=n(85316),a=n(29643);let i=()=>{let[e,t]=(0,s.useState)(!1),n="https://api-translate.englishreader.org/translate";return{translate:async e=>{try{return t(!0),(await a.Z.post(n,{text:e,target_lang:"Chinese"})).data.data||""}catch(e){return console.error("Translation error:",e),""}finally{t(!1)}},translateBatch:async e=>{try{let s=e.join("\n");return t(!0),((await a.Z.post(n,{text:s,target_lang:"Chinese"})).data.data||"").split("\n")}catch(e){return console.error("Batch translation error:",e),[]}finally{t(!1)}},translating:e}}},9071:function(e,t,n){"use strict";n.d(t,{h:function(){return s}});let s=n(29643).Z.create({baseURL:"http://127.0.0.1:5000"})},81095:function(){}},function(e){e.O(0,[536,535,792,463,744],function(){return e(e.s=26301)}),_N_E=e.O()}]);