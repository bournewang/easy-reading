(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[593],{23667:function(){},10753:function(){},94138:function(){},58729:function(){},64981:function(){},75584:function(){},30892:function(){},50726:function(e,t,s){Promise.resolve().then(s.bind(s,17278))},17278:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return d}});var n=s(76887),a=s(85316),r=s(3475),i=s(86147),l=e=>{let{currentPage:t,totalPages:s,onPageChange:a}=e,r=Array.from({length:s},(e,t)=>t+1);return(0,n.jsxs)("div",{className:"flex justify-center items-center gap-2 mt-4",children:[(0,n.jsx)("button",{onClick:()=>a(t-1),disabled:1===t,className:"px-3 py-1 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-indigo-50 transition-colors",children:"←"}),r.map(e=>(0,n.jsx)("button",{onClick:()=>a(e),className:"w-8 h-8 rounded-lg transition-colors ".concat(t===e?"bg-indigo-100 text-indigo-600":"hover:bg-indigo-50 text-gray-600"),children:e},e)),(0,n.jsx)("button",{onClick:()=>a(t+1),disabled:t===s,className:"px-3 py-1 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-indigo-50 transition-colors",children:"→"})]})};s(81095);var o=function(){let{words:e,removeWord:t}=(0,r.K)(),[s,o]=(0,a.useState)(null),[d,c]=(0,a.useState)("grid"),[m,u]=(0,a.useState)(1),x=Array.from(e),h=Math.ceil(x.length/20);(0,a.useEffect)(()=>{m>1&&m>h&&u(Math.max(1,h))},[e,m,h]);let g=(m-1)*20,p=x.slice(g,g+20);return(0,n.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-indigo-50 to-purple-50",children:(0,n.jsxs)("div",{className:"container mx-auto p-2 max-w-5xl",children:[(0,n.jsxs)("header",{className:"text-center py-2",children:[(0,n.jsx)("h1",{className:"text-3xl font-bold text-indigo-900 mb-2",children:"My Vocabulary Journal"}),(0,n.jsx)("p",{className:"text-gray-600",children:"Track and review your learning progress"})]}),(0,n.jsxs)("div",{className:"flex flex-col md:flex-row gap-4 relative min-h-screen w-full",children:[(0,n.jsx)("div",{className:"flex-1 mb-4 md:mb-0",children:(0,n.jsxs)("div",{className:"bg-white/70 backdrop-blur-sm rounded-2xl p-6 shadow-xl",children:[(0,n.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,n.jsxs)("h2",{className:"text-xl font-semibold text-gray-800",children:["Saved Words ",(0,n.jsxs)("span",{className:"text-sm text-gray-500",children:["(",e.size,")"]})]}),(0,n.jsxs)("div",{className:"flex gap-2 hidden",children:[(0,n.jsx)("button",{onClick:()=>c("grid"),className:"p-2 rounded-lg transition-colors ".concat("grid"===d?"bg-indigo-100 text-indigo-600":"hover:bg-gray-100 text-gray-600"),title:"Grid view",children:"⊞"}),(0,n.jsx)("button",{onClick:()=>c("cloud"),className:"p-2 rounded-lg transition-colors ".concat("cloud"===d?"bg-indigo-100 text-indigo-600":"hover:bg-gray-100 text-gray-600"),title:"Cloud view",children:"☁️"})]})]}),0===e.size?(0,n.jsxs)("div",{className:"text-center py-12",children:[(0,n.jsx)("div",{className:"text-4xl mb-4",children:"\uD83D\uDCDA"}),(0,n.jsxs)("p",{className:"text-gray-500",children:["Your word list is empty.",(0,n.jsx)("br",{}),(0,n.jsx)("span",{className:"text-sm",children:"Click on words while reading to add them to your list."})]})]}):"grid"===d?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:p.map(e=>(0,n.jsxs)("div",{className:"group flex items-center justify-between p-4 bg-white rounded-xl shadow-sm hover:shadow-md transition-all duration-200 border-t border-l border-r border-gray-100",children:[(0,n.jsx)("button",{className:"flex-1 text-left font-medium text-gray-700 hover:text-indigo-600 transition-colors",onClick:()=>o(e),children:e}),(0,n.jsx)("button",{onClick:()=>t(e),className:"ml-1 opacity-0 group-hover:opacity-100 w-4 h-4 inline-flex items-center justify-center rounded-full bg-red-100 text-red-600 text-xs hover:bg-red-200 hover:text-red-700 transition-all",title:"Remove word",children:"✕"})]},e))}),h>1&&(0,n.jsx)(l,{currentPage:m,totalPages:h,onPageChange:e=>{u(e),o(null)}})]}):(0,n.jsx)("div",{className:"min-h-[300px] flex flex-wrap gap-3 justify-center items-center p-4",children:Array.from(e).map(e=>(0,n.jsxs)("button",{className:"group inline-flex items-center",style:{transform:"rotate(".concat(20*Math.random()-10,"deg)"),fontSize:"".concat(.7*Math.random()+.8,"rem")},onClick:()=>o(e),children:[(0,n.jsx)("span",{className:"px-3 py-1 rounded-full transition-colors duration-200 ".concat(s===e?"bg-indigo-100 text-indigo-700":"bg-white/80 hover:bg-indigo-50 text-gray-700 hover:text-indigo-600"),children:e}),(0,n.jsx)("button",{onClick:s=>{s.stopPropagation(),t(e)},className:"ml-1 opacity-0 group-hover:opacity-100 w-4 h-4 inline-flex items-center justify-center rounded-full bg-red-100 text-red-600 text-xs hover:bg-red-200 hover:text-red-700 transition-all",title:"Remove word",children:"✕"})]},e))})]})}),(0,n.jsx)("div",{className:"fixed md:sticky bottom-0 md:top-0 left-0 right-0 md:w-1/2 h-[200px] md:h-screen bg-white md:bg-slate-50 overflow-y-auto border-t border-slate-200 md:border-l md:border-t-0 shadow-lg md:shadow-none z-50 ".concat(s?"":"hidden md:block"),children:(0,n.jsx)(i.Z,{selectedWord:s})})]})]})})};function d(){return(0,n.jsx)("div",{className:"container mx-auto",children:(0,n.jsx)(o,{})})}},86147:function(e,t,s){"use strict";s.d(t,{Z:function(){return d}});var n=s(76887),a=s(85316),r=s(9071);let i=()=>{let[e,t]=(0,a.useState)(!1),[s,n]=(0,a.useState)(null);return{lookupWord:(0,a.useCallback)(async e=>{try{return t(!0),n(null),(await r.h.get("https://api.dictionaryapi.dev/api/v2/entries/en/".concat(e))).data[0]}catch(s){let t="Failed to lookup word: ".concat(e);throw n(t),Error(t)}finally{t(!1)}},[]),loading:e,error:s}};var l=s(2457);s(81095);var o=s(89648),d=e=>{let{selectedWord:t}=e,[s,r]=(0,a.useState)(""),[d,c]=(0,a.useState)(null),{lookupWord:m,loading:u,error:x}=i(),{speak:h}=(0,l.I)(),{translate:g,translateBatch:p}=(0,o.$)();(0,a.useEffect)(()=>{t&&(r(t),m(t).then(async e=>{c(e);let t=e.phonetics.find(e=>e.text&&e.audio);(null==t?void 0:t.audio)?new Audio(t.audio).play():h(e.word),p(e.meanings.flatMap(e=>e.definitions.map(e=>e.definition))).then(t=>{let s=0,n={...e};n.meanings.forEach(e=>{e.definitions.forEach(e=>{e.translation=t[s++]})}),c(n)})}).catch(e=>console.error("Failed to look up word:",e)))},[t,m]);let f=async e=>{if(e.preventDefault(),s.trim())try{let e=await m(s);c(e)}catch(e){console.error("Failed to look up word:",e)}};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"sticky top-0 text-xs text-slate-500 text-center border-b border-t border-slate-200 py-1 bg-white z-10",children:"Dictionary"}),(0,n.jsxs)("div",{className:"p-2 md:p-4 bg-slate-100 md:bg-slate-50 shadow-lg",children:[(0,n.jsx)("div",{className:"hidden md:block",children:(0,n.jsx)("form",{onSubmit:f,className:"mb-4",children:(0,n.jsxs)("div",{className:"flex gap-2",children:[(0,n.jsx)("input",{type:"text",value:s,onChange:e=>r(e.target.value),placeholder:"Enter a word to look up",className:"flex-1 p-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent bg-white"}),(0,n.jsx)("button",{type:"submit",className:"px-3 py-2 text-white rounded-lg disabled:bg-slate-300 transition-colors duration-200",disabled:u||!s.trim(),title:"Look up word",children:(0,n.jsx)("span",{className:u?"inline-block animate-spin-slow":"",children:u?"⏳":"\uD83D\uDD0D"})})]})})}),x&&(0,n.jsx)("div",{className:"p-2 mb-3 bg-red-50 text-red-600 rounded-lg border border-red-200",children:x}),d&&(0,n.jsxs)("div",{className:"",children:[(0,n.jsxs)("div",{className:"flex flex-wrap items-center justify-center gap-x-3 gap-y-1 mb-2 md:mb-4",children:[(0,n.jsx)("h2",{className:"text-2xl font-bold text-slate-800 whitespace-nowrap",children:d.word}),d.phonetics.filter(e=>e.text&&e.audio).map((e,t)=>(0,n.jsxs)("div",{className:"flex items-center space-x-2 whitespace-nowrap",children:[(0,n.jsx)("span",{className:"text-slate-600",children:e.text}),(0,n.jsx)("button",{onClick:()=>new Audio(e.audio).play(),className:"p-1 text-indigo-600 hover:text-indigo-700",children:"\uD83D\uDD0A"})]},t))]}),d.meanings.map((e,t)=>(0,n.jsxs)("div",{className:"mb-2 md:mb-4 p-1 md:p-3 bg-white rounded-lg shadow-sm",children:[(0,n.jsx)("h3",{className:"text-lg font-semibold text-indigo-600 mb-1 md:mb-2",children:e.partOfSpeech}),(0,n.jsx)("ul",{className:"list-none list-inside space-y-1 md:space-y-2",children:e.definitions.map((e,t)=>(0,n.jsx)("li",{className:"text-slate-700",children:(0,n.jsxs)("div",{className:"flex-1",children:[(0,n.jsxs)("p",{className:"inline",children:[t+1,". ",e.definition]}),e.translation&&(0,n.jsx)("p",{className:"mt-1 text-slate-600 bg-yellow-50 p-2 rounded-lg",children:e.translation}),e.example&&(0,n.jsxs)("p",{className:"mt-1 text-slate-600 italic bg-slate-50 p-2 rounded-lg flex items-center justify-between",children:[(0,n.jsx)("span",{children:e.example}),(0,n.jsx)("button",{onClick:()=>e.example&&h(e.example),className:"p-1 text-indigo-600 hover:text-indigo-700 ml-2",title:"Listen to example",children:"\uD83D\uDD0A"})]}),e.synonyms.length>0&&(0,n.jsxs)("p",{className:"mt-1 text-slate-600",children:[(0,n.jsx)("span",{className:"font-medium",children:"Synonyms: "}),(0,n.jsx)("span",{className:"text-indigo-600",children:e.synonyms.join(", ")})]})]})},t))}),e.synonyms.length>0&&(0,n.jsxs)("div",{className:"mt-2 p-2 bg-slate-50 rounded-lg",children:[(0,n.jsx)("span",{className:"font-medium text-slate-700",children:"Synonyms: "}),(0,n.jsx)("span",{className:"text-indigo-600",children:e.synonyms.join(", ")})]})]},t))]})]})]})}},2457:function(e,t,s){"use strict";s.d(t,{I:function(){return r}});var n=s(85316),a=s(70233);let r=()=>{let[e,t]=(0,n.useState)(!1),s={region:"eastasia",key:"f6e22df4e31f4700a7d99201d9a01796"};return{speak:async e=>{try{t(!0);let n=a.SpeechConfig.fromSubscription(s.key,s.region),r=new a.SpeechSynthesizer(n);await new Promise((t,s)=>{r.speakTextAsync(e,e=>{r.close(),t(e)},e=>{r.close(),s(e)})})}catch(e){console.error("TTS error:",e)}finally{t(!1)}},speaking:e}}},89648:function(e,t,s){"use strict";s.d(t,{$:function(){return r}});var n=s(85316),a=s(29643);let r=()=>{let[e,t]=(0,n.useState)(!1),s="https://api-translate.englishreader.org/translate";return{translate:async e=>{try{return t(!0),(await a.Z.post(s,{text:e,target_lang:"Chinese"})).data.data||""}catch(e){return console.error("Translation error:",e),""}finally{t(!1)}},translateBatch:async e=>{try{let n=e.join("\n");return t(!0),((await a.Z.post(s,{text:n,target_lang:"Chinese"})).data.data||"").split("\n")}catch(e){return console.error("Batch translation error:",e),[]}finally{t(!1)}},translating:e}}},3475:function(e,t,s){"use strict";s.d(t,{K:function(){return l}});var n=s(85316);let a="english_reader_wordlist",r=async e=>{var t;let s=Array.from(e);"undefined"!=typeof chrome&&(null===(t=chrome.storage)||void 0===t?void 0:t.local)?await chrome.storage.local.set({[a]:s}):localStorage.setItem(a,JSON.stringify(s))},i=async()=>{var e;if("undefined"!=typeof chrome&&(null===(e=chrome.storage)||void 0===e?void 0:e.local))return(await chrome.storage.local.get(a))[a]||[];{let e=localStorage.getItem(a);return e?JSON.parse(e):[]}},l=()=>{let[e,t]=(0,n.useState)(new Set);(0,n.useEffect)(()=>{i().then(e=>{t(new Set(e))})},[]),(0,n.useEffect)(()=>{e.size>0&&r(e)},[e]);let s=(0,n.useCallback)(async e=>{t(t=>new Set([...t,e]))},[]),a=(0,n.useCallback)(async e=>{t(t=>{let s=new Set(t);return s.delete(e),s})},[]),l=(0,n.useCallback)(t=>e.has(t.toLowerCase()),[e]);return{words:e,addWord:s,removeWord:a,isKnownWord:l}}},9071:function(e,t,s){"use strict";s.d(t,{h:function(){return n}});let n=s(29643).Z.create({baseURL:"http://127.0.0.1:5000"})},81095:function(){}},function(e){e.O(0,[536,535,792,463,744],function(){return e(e.s=50726)}),_N_E=e.O()}]);