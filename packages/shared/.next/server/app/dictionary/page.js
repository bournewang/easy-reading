(()=>{var e={};e.id=719,e.ids=[719],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},27790:e=>{"use strict";e.exports=require("assert")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},35240:e=>{"use strict";e.exports=require("https")},98216:e=>{"use strict";e.exports=require("net")},19801:e=>{"use strict";e.exports=require("os")},55315:e=>{"use strict";e.exports=require("path")},76162:e=>{"use strict";e.exports=require("stream")},82452:e=>{"use strict";e.exports=require("tls")},74175:e=>{"use strict";e.exports=require("tty")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},10037:()=>{},45346:()=>{},79432:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>u,originalPathname:()=>p,pages:()=>c,routeModule:()=>x,tree:()=>d}),s(52481),s(97006),s(21726);var r=s(6789),a=s(77451),i=s(18610),n=s.n(i),l=s(14648),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);s.d(t,o);let d=["",{children:["dictionary",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,52481)),"/Users/wangxiaopei/work/easy-reading/packages/shared/src/app/dictionary/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,97006)),"/Users/wangxiaopei/work/easy-reading/packages/shared/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,21726,23)),"next/dist/client/components/not-found-error"]}],c=["/Users/wangxiaopei/work/easy-reading/packages/shared/src/app/dictionary/page.tsx"],p="/dictionary/page",u={require:s,loadChunk:()=>Promise.resolve()},x=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/dictionary/page",pathname:"/dictionary",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},58221:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,57244,23)),Promise.resolve().then(s.t.bind(s,33565,23)),Promise.resolve().then(s.t.bind(s,21673,23)),Promise.resolve().then(s.t.bind(s,86139,23)),Promise.resolve().then(s.t.bind(s,60896,23)),Promise.resolve().then(s.t.bind(s,40155,23))},37831:(e,t,s)=>{Promise.resolve().then(s.bind(s,43234))},96176:()=>{},43234:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>n});var r=s(93807);s(72810);var a=s(14014);let i=()=>(0,r.jsxs)("div",{className:"container mx-auto p-4",children:[r.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Dictionary Test"}),r.jsx(a.Z,{})]});function n(){return(0,r.jsxs)("div",{className:"container mx-auto py-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-indigo-600 mb-8 text-center",children:"Dictionary Test"}),r.jsx(i,{})]})}},14014:(e,t,s)=>{"use strict";s.d(t,{Z:()=>d});var r=s(93807),a=s(72810),i=s(20351);let n=()=>{let[e,t]=(0,a.useState)(!1),[s,r]=(0,a.useState)(null);return{lookupWord:(0,a.useCallback)(async e=>{try{return t(!0),r(null),(await i.h.get(`https://api.dictionaryapi.dev/api/v2/entries/en/${e}`)).data[0]}catch(s){let t=`Failed to lookup word: ${e}`;throw r(t),Error(t)}finally{t(!1)}},[]),loading:e,error:s}};var l=s(49278);s(30983);var o=s(63670);let d=({selectedWord:e})=>{let[t,s]=(0,a.useState)(""),[i,d]=(0,a.useState)(null),{lookupWord:c,loading:p,error:u}=n(),{speak:x}=(0,l.I)(),{translate:m,translateBatch:h}=(0,o.$)();(0,a.useEffect)(()=>{e&&(s(e),c(e).then(async e=>{d(e);let t=e.phonetics.find(e=>e.text&&e.audio);t?.audio?new Audio(t.audio).play():x(e.word),h(e.meanings.flatMap(e=>e.definitions.map(e=>e.definition))).then(t=>{let s=0,r={...e};r.meanings.forEach(e=>{e.definitions.forEach(e=>{e.translation=t[s++]})}),d(r)})}).catch(e=>console.error("Failed to look up word:",e)))},[e,c]);let g=async e=>{if(e.preventDefault(),t.trim())try{let e=await c(t);d(e)}catch(e){console.error("Failed to look up word:",e)}};return(0,r.jsxs)(r.Fragment,{children:[r.jsx("div",{className:"sticky top-0 text-xs text-slate-500 text-center border-b border-t border-slate-200 py-1 bg-white z-10",children:"Dictionary"}),(0,r.jsxs)("div",{className:"p-2 md:p-4 bg-slate-100 md:bg-slate-50 shadow-lg",children:[r.jsx("div",{className:"hidden md:block",children:r.jsx("form",{onSubmit:g,className:"mb-4",children:(0,r.jsxs)("div",{className:"flex gap-2",children:[r.jsx("input",{type:"text",value:t,onChange:e=>s(e.target.value),placeholder:"Enter a word to look up",className:"flex-1 p-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent bg-white"}),r.jsx("button",{type:"submit",className:"px-3 py-2 text-white rounded-lg disabled:bg-slate-300 transition-colors duration-200",disabled:p||!t.trim(),title:"Look up word",children:r.jsx("span",{className:p?"inline-block animate-spin-slow":"",children:p?"â³":"\uD83D\uDD0D"})})]})})}),u&&r.jsx("div",{className:"p-2 mb-3 bg-red-50 text-red-600 rounded-lg border border-red-200",children:u}),i&&(0,r.jsxs)("div",{className:"",children:[(0,r.jsxs)("div",{className:"flex flex-wrap items-center justify-center gap-x-3 gap-y-1 mb-2 md:mb-4",children:[r.jsx("h2",{className:"text-2xl font-bold text-slate-800 whitespace-nowrap",children:i.word}),i.phonetics.filter(e=>e.text&&e.audio).map((e,t)=>(0,r.jsxs)("div",{className:"flex items-center space-x-2 whitespace-nowrap",children:[r.jsx("span",{className:"text-slate-600",children:e.text}),r.jsx("button",{onClick:()=>new Audio(e.audio).play(),className:"p-1 text-indigo-600 hover:text-indigo-700",children:"\uD83D\uDD0A"})]},t))]}),i.meanings.map((e,t)=>(0,r.jsxs)("div",{className:"mb-2 md:mb-4 p-1 md:p-3 bg-white rounded-lg shadow-sm",children:[r.jsx("h3",{className:"text-lg font-semibold text-indigo-600 mb-1 md:mb-2",children:e.partOfSpeech}),r.jsx("ul",{className:"list-none list-inside space-y-1 md:space-y-2",children:e.definitions.map((e,t)=>r.jsx("li",{className:"text-slate-700",children:(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsxs)("p",{className:"inline",children:[t+1,". ",e.definition]}),e.translation&&r.jsx("p",{className:"mt-1 text-slate-600 bg-yellow-50 p-2 rounded-lg",children:e.translation}),e.example&&(0,r.jsxs)("p",{className:"mt-1 text-slate-600 italic bg-slate-50 p-2 rounded-lg flex items-center justify-between",children:[r.jsx("span",{children:e.example}),r.jsx("button",{onClick:()=>e.example&&x(e.example),className:"p-1 text-indigo-600 hover:text-indigo-700 ml-2",title:"Listen to example",children:"\uD83D\uDD0A"})]}),e.synonyms.length>0&&(0,r.jsxs)("p",{className:"mt-1 text-slate-600",children:[r.jsx("span",{className:"font-medium",children:"Synonyms: "}),r.jsx("span",{className:"text-indigo-600",children:e.synonyms.join(", ")})]})]})},t))}),e.synonyms.length>0&&(0,r.jsxs)("div",{className:"mt-2 p-2 bg-slate-50 rounded-lg",children:[r.jsx("span",{className:"font-medium text-slate-700",children:"Synonyms: "}),r.jsx("span",{className:"text-indigo-600",children:e.synonyms.join(", ")})]})]},t))]})]})]})}},49278:(e,t,s)=>{"use strict";s.d(t,{I:()=>i});var r=s(72810),a=s(19770);let i=()=>{let[e,t]=(0,r.useState)(!1),s={region:"eastasia",key:"f6e22df4e31f4700a7d99201d9a01796"};return{speak:async e=>{try{t(!0);let r=a.SpeechConfig.fromSubscription(s.key,s.region),i=new a.SpeechSynthesizer(r);await new Promise((t,s)=>{i.speakTextAsync(e,e=>{i.close(),t(e)},e=>{i.close(),s(e)})})}catch(e){console.error("TTS error:",e)}finally{t(!1)}},speaking:e}}},63670:(e,t,s)=>{"use strict";s.d(t,{$:()=>i});var r=s(72810),a=s(96969);let i=()=>{let[e,t]=(0,r.useState)(!1),s="https://api-translate.englishreader.org/translate";return{translate:async e=>{try{return t(!0),(await a.Z.post(s,{text:e,target_lang:"Chinese"})).data.data||""}catch(e){return console.error("Translation error:",e),""}finally{t(!1)}},translateBatch:async e=>{try{let r=e.join("\n");return t(!0),((await a.Z.post(s,{text:r,target_lang:"Chinese"})).data.data||"").split("\n")}catch(e){return console.error("Batch translation error:",e),[]}finally{t(!1)}},translating:e}}},20351:(e,t,s)=>{"use strict";s.d(t,{h:()=>r});let r=s(96969).Z.create({baseURL:"http://127.0.0.1:5000"})},52481:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(64276).createProxy)(String.raw`/Users/wangxiaopei/work/easy-reading/packages/shared/src/app/dictionary/page.tsx#default`)},97006:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>i,metadata:()=>a});var r=s(69624);let a={title:"English Reader",description:"A tool for reading English articles and learning vocabulary",viewport:{width:"device-width",initialScale:1,maximumScale:1,userScalable:!1}};function i({children:e}){return(0,r.jsxs)("html",{lang:"en",children:[r.jsx("head",{children:r.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"})}),r.jsx("body",{children:e})]})}},30983:()=>{}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[628,17],()=>s(79432));module.exports=r})();