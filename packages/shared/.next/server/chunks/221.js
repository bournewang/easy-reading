exports.id=221,exports.ids=[221],exports.modules={10037:()=>{},45346:()=>{},58221:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,57244,23)),Promise.resolve().then(s.t.bind(s,33565,23)),Promise.resolve().then(s.t.bind(s,21673,23)),Promise.resolve().then(s.t.bind(s,86139,23)),Promise.resolve().then(s.t.bind(s,60896,23)),Promise.resolve().then(s.t.bind(s,40155,23))},96176:()=>{},14014:(e,t,s)=>{"use strict";s.d(t,{Z:()=>d});var a=s(93807),l=s(72810),n=s(20351);let r=()=>{let[e,t]=(0,l.useState)(!1),[s,a]=(0,l.useState)(null);return{lookupWord:(0,l.useCallback)(async e=>{try{return t(!0),a(null),(await n.h.get(`https://api.dictionaryapi.dev/api/v2/entries/en/${e}`)).data[0]}catch(s){let t=`Failed to lookup word: ${e}`;throw a(t),Error(t)}finally{t(!1)}},[]),loading:e,error:s}};var i=s(49278);s(30983);var o=s(63670);let d=({selectedWord:e})=>{let[t,s]=(0,l.useState)(""),[n,d]=(0,l.useState)(null),{lookupWord:c,loading:m,error:h}=r(),{speak:u}=(0,i.I)(),{translate:p,translateBatch:x}=(0,o.$)();(0,l.useEffect)(()=>{e&&(s(e),c(e).then(async e=>{d(e);let t=e.phonetics.find(e=>e.text&&e.audio);t?.audio?new Audio(t.audio).play():u(e.word),x(e.meanings.flatMap(e=>e.definitions.map(e=>e.definition))).then(t=>{let s=0,a={...e};a.meanings.forEach(e=>{e.definitions.forEach(e=>{e.translation=t[s++]})}),d(a)})}).catch(e=>console.error("Failed to look up word:",e)))},[e,c]);let g=async e=>{if(e.preventDefault(),t.trim())try{let e=await c(t);d(e)}catch(e){console.error("Failed to look up word:",e)}};return(0,a.jsxs)(a.Fragment,{children:[a.jsx("div",{className:"sticky top-0 text-xs text-slate-500 text-center border-b border-t border-slate-200 py-1 bg-white z-10",children:"Dictionary"}),(0,a.jsxs)("div",{className:"p-2 md:p-4 bg-slate-100 md:bg-slate-50 shadow-lg",children:[a.jsx("div",{className:"hidden md:block",children:a.jsx("form",{onSubmit:g,className:"mb-4",children:(0,a.jsxs)("div",{className:"flex gap-2",children:[a.jsx("input",{type:"text",value:t,onChange:e=>s(e.target.value),placeholder:"Enter a word to look up",className:"flex-1 p-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent bg-white"}),a.jsx("button",{type:"submit",className:"px-3 py-2 text-white rounded-lg disabled:bg-slate-300 transition-colors duration-200",disabled:m||!t.trim(),title:"Look up word",children:a.jsx("span",{className:m?"inline-block animate-spin-slow":"",children:m?"⏳":"\uD83D\uDD0D"})})]})})}),h&&a.jsx("div",{className:"p-2 mb-3 bg-red-50 text-red-600 rounded-lg border border-red-200",children:h}),n&&(0,a.jsxs)("div",{className:"",children:[(0,a.jsxs)("div",{className:"flex flex-wrap items-center justify-center gap-x-3 gap-y-1 mb-2 md:mb-4",children:[a.jsx("h2",{className:"text-2xl font-bold text-slate-800 whitespace-nowrap",children:n.word}),n.phonetics.filter(e=>e.text&&e.audio).map((e,t)=>(0,a.jsxs)("div",{className:"flex items-center space-x-2 whitespace-nowrap",children:[a.jsx("span",{className:"text-slate-600",children:e.text}),a.jsx("button",{onClick:()=>new Audio(e.audio).play(),className:"p-1 text-indigo-600 hover:text-indigo-700",children:"\uD83D\uDD0A"})]},t))]}),n.meanings.map((e,t)=>(0,a.jsxs)("div",{className:"mb-2 md:mb-4 p-1 md:p-3 bg-white rounded-lg shadow-sm",children:[a.jsx("h3",{className:"text-lg font-semibold text-indigo-600 mb-1 md:mb-2",children:e.partOfSpeech}),a.jsx("ul",{className:"list-none list-inside space-y-1 md:space-y-2",children:e.definitions.map((e,t)=>a.jsx("li",{className:"text-slate-700",children:(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("p",{className:"inline",children:[t+1,". ",e.definition]}),e.translation&&a.jsx("p",{className:"mt-1 text-slate-600 bg-yellow-50 p-2 rounded-lg",children:e.translation}),e.example&&(0,a.jsxs)("p",{className:"mt-1 text-slate-600 italic bg-slate-50 p-2 rounded-lg flex items-center justify-between",children:[a.jsx("span",{children:e.example}),a.jsx("button",{onClick:()=>e.example&&u(e.example),className:"p-1 text-indigo-600 hover:text-indigo-700 ml-2",title:"Listen to example",children:"\uD83D\uDD0A"})]}),e.synonyms.length>0&&(0,a.jsxs)("p",{className:"mt-1 text-slate-600",children:[a.jsx("span",{className:"font-medium",children:"Synonyms: "}),a.jsx("span",{className:"text-indigo-600",children:e.synonyms.join(", ")})]})]})},t))}),e.synonyms.length>0&&(0,a.jsxs)("div",{className:"mt-2 p-2 bg-slate-50 rounded-lg",children:[a.jsx("span",{className:"font-medium text-slate-700",children:"Synonyms: "}),a.jsx("span",{className:"text-indigo-600",children:e.synonyms.join(", ")})]})]},t))]})]})]})}},49278:(e,t,s)=>{"use strict";s.d(t,{I:()=>n});var a=s(72810),l=s(19770);let n=()=>{let[e,t]=(0,a.useState)(!1),s={region:"eastasia",key:"f6e22df4e31f4700a7d99201d9a01796"};return{speak:async e=>{try{t(!0);let a=l.SpeechConfig.fromSubscription(s.key,s.region),n=new l.SpeechSynthesizer(a);await new Promise((t,s)=>{n.speakTextAsync(e,e=>{n.close(),t(e)},e=>{n.close(),s(e)})})}catch(e){console.error("TTS error:",e)}finally{t(!1)}},speaking:e}}},63670:(e,t,s)=>{"use strict";s.d(t,{$:()=>n});var a=s(72810),l=s(96969);let n=()=>{let[e,t]=(0,a.useState)(!1),s="https://api-translate.englishreader.org/translate";return{translate:async e=>{try{return t(!0),(await l.Z.post(s,{text:e,target_lang:"Chinese"})).data.data||""}catch(e){return console.error("Translation error:",e),""}finally{t(!1)}},translateBatch:async e=>{try{let a=e.join("\n");return t(!0),((await l.Z.post(s,{text:a,target_lang:"Chinese"})).data.data||"").split("\n")}catch(e){return console.error("Batch translation error:",e),[]}finally{t(!1)}},translating:e}}},91060:(e,t,s)=>{"use strict";s.d(t,{K:()=>i});var a=s(72810);let l="english_reader_wordlist",n=async e=>{let t=Array.from(e);"undefined"!=typeof chrome&&chrome.storage?.local?await chrome.storage.local.set({[l]:t}):localStorage.setItem(l,JSON.stringify(t))},r=async()=>{if("undefined"!=typeof chrome&&chrome.storage?.local)return(await chrome.storage.local.get(l))[l]||[];{let e=localStorage.getItem(l);return e?JSON.parse(e):[]}},i=()=>{let[e,t]=(0,a.useState)(new Set);(0,a.useEffect)(()=>{r().then(e=>{t(new Set(e))})},[]),(0,a.useEffect)(()=>{e.size>0&&n(e)},[e]);let s=(0,a.useCallback)(async e=>{t(t=>new Set([...t,e]))},[]),l=(0,a.useCallback)(async e=>{t(t=>{let s=new Set(t);return s.delete(e),s})},[]),i=(0,a.useCallback)(t=>e.has(t.toLowerCase()),[e]);return{words:e,addWord:s,removeWord:l,isKnownWord:i}}},20351:(e,t,s)=>{"use strict";s.d(t,{h:()=>a});let a=s(96969).Z.create({baseURL:"http://127.0.0.1:5000"})},97006:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>n,metadata:()=>l});var a=s(69624);let l={title:"English Reader",description:"A tool for reading English articles and learning vocabulary",viewport:{width:"device-width",initialScale:1,maximumScale:1,userScalable:!1}};function n({children:e}){return(0,a.jsxs)("html",{lang:"en",children:[a.jsx("head",{children:a.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"})}),a.jsx("body",{children:e})]})}},30983:()=>{}};